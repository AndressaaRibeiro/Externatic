{"version":3,"file":"index.umd.js","sources":["../node_modules/@swup/plugin/dist/index.modern.js","../src/index.js"],"sourcesContent":["const r=r=>String(r).split(\".\").concat([\"0\",\"0\"]).slice(0,3).join(\".\");class n{constructor(){this.isSwupPlugin=!0,this.requires={},this.swup=void 0,this.version=void 0}mount(){}unmount(){}_beforeMount(){if(!this.name)throw new Error(\"You must define a name of plugin when creating a class.\")}_afterUnmount(){}_checkRequirements(){return\"object\"!=typeof this.requires||Object.entries(this.requires).forEach(([n,e])=>{if(!function(n,e,t){const i=function(r,n){var e;if(\"swup\"===r)return null!=(e=n.version)?e:\"\";{var t;const e=n.findPlugin(r);return null!=(t=null==e?void 0:e.version)?t:\"\"}}(n,t);return!!i&&((n,e)=>e.every(e=>{const[,t,i]=e.match(/^([\\D]+)?(.*)$/)||[];var s,o;return((r,n)=>{const e={\"\":r=>0===r,\">\":r=>r>0,\">=\":r=>r>=0,\"<\":r=>r<0,\"<=\":r=>r<=0};return(e[n]||e[\"\"])(r)})((o=i,s=r(s=n),o=r(o),s.localeCompare(o,void 0,{numeric:!0})),t||\">=\")}))(i,e)}(n,e=Array.isArray(e)?e:[e],this.swup)){const r=`${n} ${e.join(\", \")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${r}`)}}),!0}}export{n as default};\n//# sourceMappingURL=index.modern.js.map\n","import Plugin from '@swup/plugin';\n\nexport default class DebugPlugin extends Plugin {\n\tname = 'DebugPlugin';\n\n\tdefaultOptions = {\n\t\tglobalInstance: false\n\t};\n\n\tconstructor(options = {}) {\n\t\tsuper();\n\n\t\tthis.options = {\n\t\t\t...this.defaultOptions,\n\t\t\t...options\n\t\t};\n\n\t\tif (!document.getElementsByTagName('title').length) {\n\t\t\tconst error = \"This page doesn't have title tag. Title tag is required in every page.\";\n\t\t\tconsole.warn(`DEBUG PLUGIN: ${error}`);\n\t\t}\n\t}\n\n\tmount() {\n\t\tconst swup = this.swup;\n\n\t\t// set non-empty log method of swup\n\t\tswup.log = this.log;\n\n\t\t// set swup instance as a global variable swup\n\t\tif (this.options.globalInstance) {\n\t\t\twindow.swup = swup;\n\t\t}\n\n\t\t// make events appear in console\n\t\tswup._triggerEvent = swup.triggerEvent;\n\t\tswup.triggerEvent = this.triggerEvent;\n\n\t\t// detect relative links not starting with / or #\n\t\tconst potentiallyWrongLinksSelector =\n\t\t\t'a[href]:not([href^=\"' +\n\t\t\twindow.location.origin +\n\t\t\t'\"]):not([href^=\"/\"]):not([href^=\"http\"]):not([href^=\"/\"]):not([href^=\"?\"]):not([href^=\"#\"])';\n\n\t\tswup.on('pageView', () => {\n\t\t\tif (document.querySelectorAll(potentiallyWrongLinksSelector).length) {\n\t\t\t\tconst error =\n\t\t\t\t\t'It seems there are some links with a href attribute not starting with \"#\", \"/\" or current domain, which is potentially a problem.';\n\t\t\t\tconsole.warn(\n\t\t\t\t\t`DEBUG PLUGIN: ${error}`,\n\t\t\t\t\tdocument.querySelectorAll(potentiallyWrongLinksSelector)\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (document.querySelectorAll(potentiallyWrongLinksSelector).length) {\n\t\t\t\tconst error =\n\t\t\t\t\t'It seems there are some links with a href attribute not starting with \"#\", \"/\" or current domain, which is potentially a problem.';\n\t\t\t\tconsole.warn(\n\t\t\t\t\t`DEBUG PLUGIN: ${error}`,\n\t\t\t\t\tdocument.querySelectorAll(potentiallyWrongLinksSelector)\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n\n\tunmount() {\n\t\tthis.swup.log = () => {};\n\t\tthis.swup.triggerEvent = this.swup._triggerEvent;\n\t\tif (this.options.globalInstance) {\n\t\t\twindow.swup = null;\n\t\t}\n\t}\n\n\ttriggerEvent = (eventName, originalEvent) => {\n\t\tif (originalEvent) {\n\t\t\tconsole.groupCollapsed(\n\t\t\t\t'%cswup:' + '%c' + eventName,\n\t\t\t\t'color: #343434',\n\t\t\t\t'color: #009ACD'\n\t\t\t);\n\t\t\tconsole.log(originalEvent);\n\t\t\tconsole.groupEnd();\n\t\t} else {\n\t\t\tconsole.log('%cswup:' + '%c' + eventName, 'color: #343434', 'color: #009ACD');\n\t\t}\n\n\t\tthis.swup._triggerEvent(eventName, originalEvent);\n\t};\n\n\tlog = (str, object) => {\n\t\tif (object) {\n\t\t\tconsole.groupCollapsed(str);\n\t\t\tfor (let key in object) {\n\t\t\t\tconsole.log(object[key]);\n\t\t\t}\n\t\t\tconsole.groupEnd();\n\t\t} else {\n\t\t\tconsole.log(str + '%c', 'color: #009ACD');\n\t\t}\n\t};\n\n\tdebugLog = (log, type) => {\n\t\tif (type === 'error') {\n\t\t\tconsole.error(`DEBUG PLUGIN: ${log}`);\n\t\t} else {\n\t\t\tconsole.warn(`DEBUG PLUGIN: ${log}`);\n\t\t}\n\t};\n}\n"],"names":["r","String","split","concat","slice","join","n","constructor","this","isSwupPlugin","requires","swup","version","mount","unmount","_beforeMount","name","Error","_afterUnmount","_checkRequirements","Object","entries","forEach","e","t","i","findPlugin","every","match","s","o","localeCompare","numeric","Array","isArray","Plugin","options","super","defaultOptions","globalInstance","triggerEvent","eventName","originalEvent","console","groupCollapsed","log","groupEnd","_triggerEvent","str","object","key","debugLog","type","error","warn","document","getElementsByTagName","length","window","potentiallyWrongLinksSelector","location","origin","on","querySelectorAll"],"mappings":"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"}